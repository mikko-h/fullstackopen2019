(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),c=t.n(u),o=t(12),i=t(2),l=t(3),m=t.n(l),f="/api/persons",s=function(){return m.a.get(f).then(function(e){return e.data})},d=function(e){return m.a.post(f,e).then(function(e){return e.data})},h=function(e){return m.a.delete("".concat(f,"/").concat(e))},v=function(e){return m.a.put("".concat(f,"/").concat(e.id),e).then(function(e){return e.data})},b=(t(38),function(e){var n=e.message,t=e.type;return n?r.a.createElement("div",{className:t},n):null}),p=function(e){var n=e.handleChange;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",r.a.createElement("input",{onChange:n}))},E=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.handleSubmit,u=e.newName,c=e.newNumber;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:u,onChange:n})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:c,onChange:t})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},g=function(e){var n=e.name,t=e.number,a=e.handleRemove;return r.a.createElement("div",null,n," ",t," ",r.a.createElement("button",{onClick:a},"poista"))},j=function(e){var n=e.persons,t=e.filter,a=e.handleRemove;return n.filter(t).map(function(e){return r.a.createElement(g,Object.assign({key:e.name,handleRemove:function(){return a(e.id)}},e))})},w=function(){var e=Object(a.useState)(null),n=Object(i.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)([]),l=Object(i.a)(c,2),m=l[0],f=l[1],g=Object(a.useState)(""),w=Object(i.a)(g,2),O=w[0],C=w[1],N=Object(a.useState)(""),k=Object(i.a)(N,2),S=k[0],y=k[1],L=Object(a.useState)(""),R=Object(i.a)(L,2),P=R[0],x=R[1],J=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";u({message:e,type:n}),setTimeout(function(){return u(null)},5e3)},B=function(e){return function(n){return e(n.target.value)}};return Object(a.useEffect)(function(){s().then(function(e){return f(e)})},[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Puhelinluettelo"),r.a.createElement(b,t),r.a.createElement(p,{handleChange:B(C)}),r.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),r.a.createElement(E,{handleNameChange:B(y),handleNumberChange:B(x),handleSubmit:function(e){var n,t={name:S,number:P},a=(n=t,m.find(function(e){return e.name===n.name}));e.preventDefault(),a?window.confirm("".concat(S," on jo luettelossa, korvataanko vanha numero uudella?"))&&v(Object(o.a)({},a,{number:P})).then(function(e){f(m.map(function(n){return n.id===e.id?e:n})),y(""),x(""),J("Muutettiin henkil\xf6n ".concat(e.name," numero"))}).catch(function(){f(m.filter(function(e){return e.id!==a.id})),y(""),x(""),J("".concat(a.name," on jo poistettu"),"error")}):d(t).then(function(e){f(m.concat(e)),y(""),x(""),J("Lis\xe4ttiin ".concat(e.name))}).catch(function(e){J(e.response.data.error,"error")})},newName:S,newNumber:P}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(j,{persons:m,filter:function(e){return e.name.toLowerCase().indexOf(O.toLowerCase())>-1},handleRemove:function(e){var n=m.find(function(n){return n.id===e});window.confirm("Poistetaanko ".concat(n.name,"?"))&&h(e).then(function(){f(m.filter(function(n){return n.id!==e})),J("Poistettiin ".concat(n.name))})}}))};c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.b31479ab.chunk.js.map